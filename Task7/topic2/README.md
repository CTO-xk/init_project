# MetaNode è´¨æŠ¼ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºä»¥å¤ªåŠçš„æ™ºèƒ½è´¨æŠ¼ç³»ç»Ÿï¼Œæ”¯æŒåŸç”Ÿä»£å¸è´¨æŠ¼å’Œå¥–åŠ±åˆ†å‘ã€‚

## ğŸš€ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®åŒ…å«ä¸¤ä¸ªä¸»è¦æ™ºèƒ½åˆçº¦ï¼š
- **MetaNodeToken (MNT)**: ERC20 ä»£å¸åˆçº¦
- **StakeSystem**: å¯å‡çº§çš„è´¨æŠ¼ç³»ç»Ÿåˆçº¦

## ğŸ“ å·²éƒ¨ç½²åˆçº¦åœ°å€

### Sepolia æµ‹è¯•ç½‘
- **MetaNodeToken**: `0x3525D55966A040120E55a66F6F85d1AAd1a7bEA9`
- **StakeSystem**: `0x24E4f9D2a192A43e52E86adB0623DAeB9331E1E6`

## ğŸ—ï¸ ç³»ç»Ÿç‰¹æ€§

### è´¨æŠ¼ç³»ç»Ÿ
- âœ… æ”¯æŒåŸç”Ÿä»£å¸ (ETH) è´¨æŠ¼
- âœ… å¯é…ç½®çš„å¥–åŠ±ç‡ï¼ˆå½“å‰ï¼šæ¯å— 0.001 MNTï¼‰
- âœ… è§£è´¨æŠ¼é”å®šæœŸæœºåˆ¶ï¼ˆ200 ä¸ªåŒºå— â‰ˆ 10 åˆ†é’Ÿï¼‰
- âœ… æœ€å°è´¨æŠ¼é‡é™åˆ¶ï¼ˆ0.01 ETHï¼‰
- âœ… å¯å‡çº§çš„åˆçº¦æ¶æ„

### ä»£å¸ä¿¡æ¯
- **åç§°**: MetaNode Token
- **ç¬¦å·**: MNT
- **æ€»ä¾›åº”é‡**: 100,000,000 MNT
- **å¥–åŠ±æ± **: 1,000,000 MNT

## ğŸ§ª æµ‹è¯•ç»“æœ

### åŠŸèƒ½æµ‹è¯•
- âœ… è´¨æŠ¼åŠŸèƒ½ï¼šæˆåŠŸè´¨æŠ¼ 0.1 ETH
- âœ… å¥–åŠ±è®¡ç®—ï¼šæ­£ç¡®è®¡ç®—å¹¶å‘æ”¾å¥–åŠ±
- âœ… è§£è´¨æŠ¼è¯·æ±‚ï¼šæˆåŠŸåˆ›å»ºè§£è´¨æŠ¼è¯·æ±‚
- âœ… åˆçº¦å‡çº§ï¼šæ”¯æŒ UUPS å‡çº§æ¨¡å¼

### å½“å‰çŠ¶æ€
- **è´¨æŠ¼æ±  #0**: åŸç”Ÿä»£å¸æ± ï¼Œæƒé‡ 100
- **æ€»è´¨æŠ¼é‡**: 0.0 ETHï¼ˆå·²å…¨éƒ¨è§£è´¨æŠ¼ï¼‰
- **è§£è´¨æŠ¼è¯·æ±‚**: 2 ä¸ªå¾…è§£é”è¯·æ±‚
- **ç½‘ç»œ**: Sepolia æµ‹è¯•ç½‘

## ğŸ“ é¡¹ç›®ç»“æ„

```
topic2/
â”œâ”€â”€ contracts/
â”‚   â”œâ”€â”€ MetaNodeToken.sol      # ERC20 ä»£å¸åˆçº¦
â”‚   â””â”€â”€ StakeSystem.sol        # è´¨æŠ¼ç³»ç»Ÿåˆçº¦
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ deploy-token.js        # éƒ¨ç½²ä»£å¸åˆçº¦
â”‚   â””â”€â”€ deploy.js              # éƒ¨ç½²è´¨æŠ¼ç³»ç»Ÿ
â”œâ”€â”€ test/
â”‚   â””â”€â”€ StakeSystem.test.js    # å®Œæ•´çš„é›†æˆæµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ hardhat.config.js          # Hardhat é…ç½®
â””â”€â”€ package.json               # é¡¹ç›®ä¾èµ–
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 16+
- Hardhat
- ä»¥å¤ªåŠé’±åŒ…ï¼ˆç§é’¥ï¼‰

### å®‰è£…ä¾èµ–
```bash
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡
åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
INFURA_API_KEY=your_infura_api_key
PRIVATE_KEY=your_wallet_private_key
ETHERSCAN_API_KEY=your_etherscan_api_key
METANODE_TOKEN_ADDRESS=0x3525D55966A040120E55a66F6F85d1AAd1a7bEA9
```

### è¿è¡Œæµ‹è¯•
```bash
npx hardhat test
```

### éƒ¨ç½²åˆçº¦
```bash
# éƒ¨ç½²ä»£å¸åˆçº¦
npx hardhat run scripts/deploy-token.js --network sepolia

# éƒ¨ç½²è´¨æŠ¼ç³»ç»Ÿ
npx hardhat run scripts/deploy.js --network sepolia
```

## ğŸ”§ ä¸»è¦åŠŸèƒ½

### è´¨æŠ¼
```javascript
// è´¨æŠ¼ 0.1 ETH
await stakeSystem.stake(0, ethers.parseEther("0.1"), { 
    value: ethers.parseEther("0.1") 
});
```

### è§£è´¨æŠ¼
```javascript
// ç”³è¯·è§£è´¨æŠ¼
await stakeSystem.requestUnstake(0, ethers.parseEther("0.05"));

// æå–è§£é”çš„èµ„äº§
await stakeSystem.claimUnstake(0, requestIndex);
```

### é¢†å–å¥–åŠ±
```javascript
// é¢†å–è´¨æŠ¼å¥–åŠ±
await stakeSystem.claimReward(0);
```

## ğŸ“Š åˆçº¦çŠ¶æ€æŸ¥è¯¢

### æŸ¥çœ‹è´¨æŠ¼ä¿¡æ¯
```javascript
const userInfo = await stakeSystem.userInfo(0, userAddress);
const poolInfo = await stakeSystem.pools(0);
const pendingReward = await stakeSystem.pendingReward(0, userAddress);
```

### æŸ¥çœ‹è§£è´¨æŠ¼è¯·æ±‚
```javascript
const unstakeRequests = await stakeSystem.getUserUnstakeRequests(0, userAddress);
```

## ğŸ§ª æµ‹è¯•è¦†ç›–

### åŸºç¡€åŠŸèƒ½æµ‹è¯•
- âœ… åˆçº¦éƒ¨ç½²å’Œå‚æ•°è®¾ç½®
- âœ… è´¨æŠ¼åŠŸèƒ½ï¼ˆåŸç”Ÿä»£å¸å’ŒERC20ï¼‰
- âœ… å¥–åŠ±è®¡ç®—å’Œåˆ†å‘
- âœ… è§£è´¨æŠ¼æµç¨‹
- âœ… ç®¡ç†å‘˜åŠŸèƒ½

### é›†æˆç³»ç»Ÿæµ‹è¯•
- âœ… å®Œæ•´ç³»ç»ŸçŠ¶æ€ä¿¡æ¯
- âœ… å®Œæ•´è´¨æŠ¼å·¥ä½œæµç¨‹
- âœ… å®Œæ•´è§£è´¨æŠ¼å·¥ä½œæµç¨‹
- âœ… å¤šè§£è´¨æŠ¼è¯·æ±‚å¤„ç†
- âœ… ç»¼åˆæ± ä¿¡æ¯éªŒè¯
- âœ… å¤šç”¨æˆ·å¥–åŠ±åˆ†å‘
- âœ… ç³»ç»Ÿå®‰å…¨ç‰¹æ€§éªŒè¯

### æµ‹è¯•ç»Ÿè®¡
- **æ€»æµ‹è¯•ç”¨ä¾‹**: 16 ä¸ª
- **æµ‹è¯•è¦†ç›–**: 100%
- **æ‰§è¡Œæ—¶é—´**: ~613ms

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **é‡å…¥æ”»å‡»é˜²æŠ¤**: ä½¿ç”¨ ReentrancyGuard
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **æš‚åœæœºåˆ¶**: ç´§æ€¥æƒ…å†µä¸‹å¯æš‚åœåˆçº¦
- **å‡çº§å®‰å…¨**: UUPS å‡çº§æ¨¡å¼ï¼Œé˜²æ­¢æ„å¤–å‡çº§

## ğŸŒ ç½‘ç»œæ”¯æŒ

- **æµ‹è¯•ç½‘**: Sepolia
- **ä¸»ç½‘**: å¾…éƒ¨ç½²
- **æœ¬åœ°å¼€å‘**: Hardhat ç½‘ç»œ

## ğŸ“ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é¡¹ç›®ï¼Œéƒ¨ç½²åœ¨ Sepolia æµ‹è¯•ç½‘ä¸Šã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å‰ï¼Œè¯·è¿›è¡Œå……åˆ†çš„å®¡è®¡å’Œæµ‹è¯•ã€‚
